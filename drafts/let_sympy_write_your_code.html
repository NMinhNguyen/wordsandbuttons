<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Let sympy write your code</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <style>
body{
    margin: 0 0 0 0;
}

a{
    text-decoration: none;
}

h1 {
    padding-top: 32pt;
    font-size: 24pt;
    width: 600pt;
    text-align: left;
}

h2 {
    padding-top: 16pt;
    font-size: 20pt;
    width: 555pt;
    text-align: left;
}

p {
    font-size: 16pt;
    width: 505pt;
    text-align: left;
}

pre {
    margin: 0 0 0 0;
    padding-top: 12pt;
    padding-left: 12pt;
    padding-right: 12pt;
    padding-bottom: 12pt;
    font-size: 12pt;
    text-align: left;
    width: 300pt;
}

table {
    border-width: 0pt;
}

td {
    vertical-align: top;
    padding: 6pt 12pt 6pt 12pt;
    font-size: 16pt;
    border: 1px solid black;
    width: 600pt;
}

button {
    width: 128pt;
    height: 26pt;
    font-size: 16pt;
    text-align: center;
}

textarea {
    width: 600pt;
    font-size: 12pt;
    font-family: monospace;
}

    </style>
    <script language="JavaScript">
function evaluated_sympy(expr) {
    var Symbol = function(x) {
        return x;
    }
    var Integer = function(x) {
        return x.toString();
    }
    var Float = function(x) {
        return parseFloat(x);
    }

    var Add = function() {
        return '(' + arguments.join('+') + ')';
    }
    var Mul = function() {
        return '(' + arguments.join('*') + ')';
    }

    return eval(expr);
}

function make_js() {
    var source = document.getElementById("exprs").innerHTML;
    var lines = source.split('\n');
    var js = "";
    for(var i = 0; i < lines.length; ++i) {
        if(lines[i].includes(',') && lines[i].includes('(') && lines[i].includes('"')) {
            var name = lines[i].split(',')[0].split('(')[1];
            var expr = lines[i].split('\"')[1];
            js += 'var ' + name + ' = ' + expr + '\n';
        }
    }
    document.getElementById("exprs").innerHTML = js;
}
    </script>
  </head>
  <body>
    <center>
    <h1>
Let sympy write your code
    </h1>
    <p>
    </p>
    <textarea id="exprs" rows=32>
(bx, "Add(Mul(Integer(-1), Float('2.3333333333333335', precision=53), Symbol('x1')), Mul(Integer(-1), Float('0.66666666666666663', precision=53), Symbol('x2')), Mul(Float('0.33333333333333331', precision=53), Symbol('x3')), Mul(Float('2.6666666666666665', precision=53), Symbol('x4')))")

(ax, "Add(Mul(Float('1.6666666666666667', precision=53), Symbol('x1')), Mul(Float('0.33333333333333331', precision=53), Symbol('x2')), Mul(Integer(-1), Float('0.33333333333333331', precision=53), Symbol('x3')), Mul(Integer(-1), Float('1.6666666666666667', precision=53), Symbol('x4')))")

(dx, "Symbol('x1')")

(cx, "Add(Mul(Integer(-1), Float('0.33333333333333331', precision=53), Symbol('x1')), Mul(Float('0.33333333333333331', precision=53), Symbol('x2')))")

(cy, "Add(Mul(Integer(-1), Float('0.33333333333333331', precision=53), Symbol('y1')), Mul(Float('0.33333333333333331', precision=53), Symbol('y2')))")

(dy, "Symbol('y1')")

(ay, "Add(Mul(Float('1.6666666666666667', precision=53), Symbol('y1')), Mul(Float('0.33333333333333331', precision=53), Symbol('y2')), Mul(Integer(-1), Float('0.33333333333333331', precision=53), Symbol('y3')), Mul(Integer(-1), Float('1.6666666666666667', precision=53), Symbol('y4')))")

(by, "Add(Mul(Integer(-1), Float('2.3333333333333335', precision=53), Symbol('y1')), Mul(Integer(-1), Float('0.66666666666666663', precision=53), Symbol('y2')), Mul(Float('0.33333333333333331', precision=53), Symbol('y3')), Mul(Float('2.6666666666666665', precision=53), Symbol('y4')))")
    </textarea>
    <br>
    <button type="button" id="make_js" onclick="make_js();">Make JS</button>
    
    <p>
...
    </p>


    <table class="footer" style="width: 555pt; padding: 64pt 0pt 32pt 0pt; background-color: transparent; font-family: sans-serif; font-size: 16pt; font-style: normal;">
    <tr>
    <td class="footer" style="vertical-align: middle; text-align: left; width: 64px; padding: 0; margin: 0; border: 0;">
        <a href="index.html"><img src="favicon.ico"></a>
    </td>
    <td class="footer" style="vertical-align: middle; text-align: left; width: 200pt; padding: 0; margin: 0; border: 0;">
        &nbsp;&larr; there's more.
    </td>
    <td class="footer" style="vertical-align: middle; text-align: right; width: 300pt; padding: 0; margin: 0; border: 0;">
        +
        <a href="https://github.com/akalenuk/wordsandbuttons">Github</a> &
        <a href="https://twitter.com/wordsandbuttons">Twitter</a> &
        <a href="https://news.ycombinator.com/from?site=wordsandbuttons.online">Hacker News</a>
    </td>
    </tr>
    </table>
    </center>
  </body>
</html>
