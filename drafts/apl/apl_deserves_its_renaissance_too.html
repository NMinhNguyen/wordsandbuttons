<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>APL deserves its renaissance too</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
    <style>
body{
    margin: 0 0 0 0;
}

a {
    text-decoration: none;
}

h1 {
    padding-top: 32pt;
    font-size: 24pt;
    width: 600pt;
    text-align: left;
}

h2 {
    padding-top: 16pt;
    font-size: 20pt;
    width: 555pt;
    text-align: left;
}

p {
    font-size: 16pt;
    width: 505pt;
    text-align: left;
}

.footer {
    margin-top: 64pt;
    padding-bottom: 32pt;
    font-family: sans-serif;
    font-size: 16pt;
    text-align: left;
}


.code_piece {
    font-family: monospace;
    padding-left: 4pt;
    padding-right: 4pt;
}

button {
    width: 100pt;
    height: 22pt;
    margin-left:4pt;
    margin-right:4pt;
    font-size: 14:pt;
}

.in {
    width: 505pt;
    margin-bottom: 8pt;
    font-family: monospace;
    font-size: 14pt;
}

.apl {
    width: 250pt;
    height: 22pt;
    margin: 8pt;
    font-size: 18pt;
    font-family: monospace;
}

.out {
    width: 505pt;
    margin-top: 8pt;
    font-family: monospace;
    font-size: 14pt;
}
    </style>
    <script language="JavaScript">
function swap_textareas(a, b){
    var c = document.getElementById(a).value;
    document.getElementById(a).value = document.getElementById(b).value;
    document.getElementById(b).value = c;
}

function is_digit(c){
    return c >= '0' && c <= '9';
}

function do_things(input, apl, output){
    var input = document.getElementById(input).value;
    var apl = document.getElementById(apl).value;

    document.getElementById(output).value = "";
    var chunks = [' ']
    for (var i = apl.length - 1; i >= 0; --i) {
        c = apl.charAt(i);
        if (is_digit(chunks[chunks.length-1]) && is_digit(c))
            chunks[chunks.length-1] = c + chunks[chunks.length-1];
        else 
            chunks.push(apl[i])
    }
    chunks = chunks.filter(function(c){return c!=' '});
    
    for (var i = 0; i < chunks.length; ++i)
        document.getElementById(output).value += '"' + chunks[i] + '"\n'
}
    </script>
  </head>
  <body>
    <center>
    <h1>
APL deserves its renaissance too
    </h1>
    <p>
...
    </p>
    <form>
        <textarea type="text" id="input" class="in" rows=5></textarea>
        <br>
        <button type="button" onclick="swap_textareas('input', 'output')">Swap in/out</button>
        <input type="text" id="apl" class="apl">
        <button type="button" onclick="do_things('input', 'apl', 'output')">Run APL</button>
        <br>
        <textarea type="text" id="output" class="out" rows=5></textarea>
    </form>
    <p>
...
    </p>


    <p class="footer">
There are more words and buttons on <a href="index.html">wordsandbuttons.online</a>.
    </p>
    </center>
  </body>
</html>
